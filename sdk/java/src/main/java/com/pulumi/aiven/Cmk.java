// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.aiven;

import com.pulumi.aiven.CmkArgs;
import com.pulumi.aiven.Utilities;
import com.pulumi.aiven.inputs.CmkState;
import com.pulumi.aiven.outputs.CmkTimeouts;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.String;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Creates and manages [customer managed keys](https://aiven.io/docs/platform/howto/bring-your-own-key) (CMKs) for encrypting service data. Use your own CMKs from your cloud provider&#39;s key management service (KMS) to encrypt data for all services in an Aiven project. This gives you complete control over your encryption keys, meaning you can independently manage the key lifecycle and access policies.
 * 
 * **This resource is in the beta stage and may change without notice.** Set
 * the `PROVIDER_AIVEN_ENABLE_BETA` environment variable to use the resource.
 * 
 * &gt; **Warning**
 * If you remove a CMK, the services linked to the key will stop working. Migrate the services to another CMK or an Aiven-managed key before removing the CMK.
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.aiven.Cmk;
 * import com.pulumi.aiven.CmkArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var exampleUser = new Cmk("exampleUser", CmkArgs.builder()
 *             .project(aivenProjectName)
 *             .resource(cmkResource)
 *             .cmkProvider("gcp")
 *             .defaultCmk(false)
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * ```sh
 * $ pulumi import aiven:index/cmk:Cmk example PROJECT/CMK_ID
 * ```
 * 
 */
@ResourceType(type="aiven:index/cmk:Cmk")
public class Cmk extends com.pulumi.resources.CustomResource {
    /**
     * Customer Managed Key identifier (CMK ID).
     * 
     */
    @Export(name="cmkId", refs={String.class}, tree="[0]")
    private Output<String> cmkId;

    /**
     * @return Customer Managed Key identifier (CMK ID).
     * 
     */
    public Output<String> cmkId() {
        return this.cmkId;
    }
    /**
     * The cloud provider hosting the key management service (KMS). The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
     * 
     */
    @Export(name="cmkProvider", refs={String.class}, tree="[0]")
    private Output<String> cmkProvider;

    /**
     * @return The cloud provider hosting the key management service (KMS). The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
     * 
     */
    public Output<String> cmkProvider() {
        return this.cmkProvider;
    }
    /**
     * Created At.
     * 
     */
    @Export(name="createdAt", refs={String.class}, tree="[0]")
    private Output<String> createdAt;

    /**
     * @return Created At.
     * 
     */
    public Output<String> createdAt() {
        return this.createdAt;
    }
    /**
     * Mark the created CMK as default for all newly created services.
     * 
     */
    @Export(name="defaultCmk", refs={Boolean.class}, tree="[0]")
    private Output<Boolean> defaultCmk;

    /**
     * @return Mark the created CMK as default for all newly created services.
     * 
     */
    public Output<Boolean> defaultCmk() {
        return this.defaultCmk;
    }
    /**
     * Project name. Changing this property forces recreation of the resource.
     * 
     */
    @Export(name="project", refs={String.class}, tree="[0]")
    private Output<String> project;

    /**
     * @return Project name. Changing this property forces recreation of the resource.
     * 
     */
    public Output<String> project() {
        return this.project;
    }
    /**
     * The unique identifier for the CMK in the cloud provider&#39;s KMS. In AWS, this is the Key ARN; in Google Cloud the Resource Name; and in Oracle Cloud the Key OCID. Maximum length: `512`. Changing this property forces recreation of the resource.
     * 
     */
    @Export(name="resource", refs={String.class}, tree="[0]")
    private Output<String> resource;

    /**
     * @return The unique identifier for the CMK in the cloud provider&#39;s KMS. In AWS, this is the Key ARN; in Google Cloud the Resource Name; and in Oracle Cloud the Key OCID. Maximum length: `512`. Changing this property forces recreation of the resource.
     * 
     */
    public Output<String> resource() {
        return this.resource;
    }
    /**
     * Status. The possible values are `current`, `deleted` and `old`.
     * 
     */
    @Export(name="status", refs={String.class}, tree="[0]")
    private Output<String> status;

    /**
     * @return Status. The possible values are `current`, `deleted` and `old`.
     * 
     */
    public Output<String> status() {
        return this.status;
    }
    @Export(name="timeouts", refs={CmkTimeouts.class}, tree="[0]")
    private Output</* @Nullable */ CmkTimeouts> timeouts;

    public Output<Optional<CmkTimeouts>> timeouts() {
        return Codegen.optional(this.timeouts);
    }
    /**
     * Updated At.
     * 
     */
    @Export(name="updatedAt", refs={String.class}, tree="[0]")
    private Output<String> updatedAt;

    /**
     * @return Updated At.
     * 
     */
    public Output<String> updatedAt() {
        return this.updatedAt;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public Cmk(java.lang.String name) {
        this(name, CmkArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public Cmk(java.lang.String name, CmkArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public Cmk(java.lang.String name, CmkArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("aiven:index/cmk:Cmk", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private Cmk(java.lang.String name, Output<java.lang.String> id, @Nullable CmkState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("aiven:index/cmk:Cmk", name, state, makeResourceOptions(options, id), false);
    }

    private static CmkArgs makeArgs(CmkArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? CmkArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static Cmk get(java.lang.String name, Output<java.lang.String> id, @Nullable CmkState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new Cmk(name, id, state, options);
    }
}

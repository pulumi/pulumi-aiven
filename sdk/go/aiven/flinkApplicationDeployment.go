// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package aiven

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aiven/sdk/v6/go/aiven/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates and manages the deployment of an Aiven for Apache FlinkÂ® application. If this resource is missing (for example, after a service power off), it's removed from the state and a new create plan is generated.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aiven/sdk/v6/go/aiven"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			exampleApp, err := aiven.NewFlinkApplication(ctx, "example_app", &aiven.FlinkApplicationArgs{
//				Project:     pulumi.Any(exampleProject.Project),
//				ServiceName: pulumi.String("example-flink-service"),
//				Name:        pulumi.String("example-app"),
//			})
//			if err != nil {
//				return err
//			}
//			main, err := aiven.NewFlinkApplicationVersion(ctx, "main", &aiven.FlinkApplicationVersionArgs{
//				Project:       pulumi.Any(exampleProject.Project),
//				ServiceName:   pulumi.Any(exampleFlink.ServiceName),
//				ApplicationId: exampleApp.ApplicationId,
//				Statement:     pulumi.String("    INSERT INTO kafka_known_pizza SELECT * FROM kafka_pizza WHERE shop LIKE '%Luigis Pizza%'\n"),
//				Sinks: aiven.FlinkApplicationVersionSinkArray{
//					&aiven.FlinkApplicationVersionSinkArgs{
//						CreateTable: pulumi.String(`      CREATE TABLE kafka_known_pizza (
//	        shop STRING,
//	        name STRING
//	      ) WITH (
//	        'connector' = 'kafka',
//	        'properties.bootstrap.servers' = '',
//	        'scan.startup.mode' = 'earliest-offset',
//	        'topic' = 'sink_topic',
//	        'value.format' = 'json'
//	      )
//
// `),
//
//						IntegrationId: pulumi.Any(flinkToKafka.IntegrationId),
//					},
//				},
//				Sources: aiven.FlinkApplicationVersionSourceArray{
//					&aiven.FlinkApplicationVersionSourceArgs{
//						CreateTable: pulumi.String(`      CREATE TABLE kafka_pizza (
//	        shop STRING,
//	        name STRING
//	      ) WITH (
//	        'connector' = 'kafka',
//	        'properties.bootstrap.servers' = '',
//	        'scan.startup.mode' = 'earliest-offset',
//	        'topic' = 'source_topic',
//	        'value.format' = 'json'
//	      )
//
// `),
//
//						IntegrationId: pulumi.Any(flinkToKafka.IntegrationId),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = aiven.NewFlinkApplicationDeployment(ctx, "main", &aiven.FlinkApplicationDeploymentArgs{
//				Project:       pulumi.Any(exampleProject.Project),
//				ServiceName:   pulumi.Any(exampleFlink.ServiceName),
//				ApplicationId: exampleApp.ApplicationId,
//				VersionId:     main.ApplicationVersionId,
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import aiven:index/flinkApplicationDeployment:FlinkApplicationDeployment example PROJECT/SERVICE_NAME/APPLICATION_ID/DEPLOYMENT_ID
// ```
type FlinkApplicationDeployment struct {
	pulumi.CustomResourceState

	// Application Id. Changing this property forces recreation of the resource.
	ApplicationId pulumi.StringOutput `pulumi:"applicationId"`
	// The creation timestamp of this entity in ISO 8601 format, always in UTC.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The creator of this entity.
	CreatedBy pulumi.StringOutput `pulumi:"createdBy"`
	// Deployment ID.
	DeploymentId pulumi.StringOutput `pulumi:"deploymentId"`
	// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
	Parallelism pulumi.IntOutput `pulumi:"parallelism"`
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringOutput `pulumi:"project"`
	// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
	RestartEnabled pulumi.BoolOutput `pulumi:"restartEnabled"`
	// Service name. Changing this property forces recreation of the resource.
	ServiceName pulumi.StringOutput `pulumi:"serviceName"`
	// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
	StartingSavepoint pulumi.StringPtrOutput                      `pulumi:"startingSavepoint"`
	Timeouts          FlinkApplicationDeploymentTimeoutsPtrOutput `pulumi:"timeouts"`
	// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
	VersionId pulumi.StringOutput `pulumi:"versionId"`
}

// NewFlinkApplicationDeployment registers a new resource with the given unique name, arguments, and options.
func NewFlinkApplicationDeployment(ctx *pulumi.Context,
	name string, args *FlinkApplicationDeploymentArgs, opts ...pulumi.ResourceOption) (*FlinkApplicationDeployment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ApplicationId == nil {
		return nil, errors.New("invalid value for required argument 'ApplicationId'")
	}
	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	if args.ServiceName == nil {
		return nil, errors.New("invalid value for required argument 'ServiceName'")
	}
	if args.VersionId == nil {
		return nil, errors.New("invalid value for required argument 'VersionId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource FlinkApplicationDeployment
	err := ctx.RegisterResource("aiven:index/flinkApplicationDeployment:FlinkApplicationDeployment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetFlinkApplicationDeployment gets an existing FlinkApplicationDeployment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetFlinkApplicationDeployment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *FlinkApplicationDeploymentState, opts ...pulumi.ResourceOption) (*FlinkApplicationDeployment, error) {
	var resource FlinkApplicationDeployment
	err := ctx.ReadResource("aiven:index/flinkApplicationDeployment:FlinkApplicationDeployment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering FlinkApplicationDeployment resources.
type flinkApplicationDeploymentState struct {
	// Application Id. Changing this property forces recreation of the resource.
	ApplicationId *string `pulumi:"applicationId"`
	// The creation timestamp of this entity in ISO 8601 format, always in UTC.
	CreatedAt *string `pulumi:"createdAt"`
	// The creator of this entity.
	CreatedBy *string `pulumi:"createdBy"`
	// Deployment ID.
	DeploymentId *string `pulumi:"deploymentId"`
	// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
	Parallelism *int `pulumi:"parallelism"`
	// Project name. Changing this property forces recreation of the resource.
	Project *string `pulumi:"project"`
	// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
	RestartEnabled *bool `pulumi:"restartEnabled"`
	// Service name. Changing this property forces recreation of the resource.
	ServiceName *string `pulumi:"serviceName"`
	// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
	StartingSavepoint *string                             `pulumi:"startingSavepoint"`
	Timeouts          *FlinkApplicationDeploymentTimeouts `pulumi:"timeouts"`
	// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
	VersionId *string `pulumi:"versionId"`
}

type FlinkApplicationDeploymentState struct {
	// Application Id. Changing this property forces recreation of the resource.
	ApplicationId pulumi.StringPtrInput
	// The creation timestamp of this entity in ISO 8601 format, always in UTC.
	CreatedAt pulumi.StringPtrInput
	// The creator of this entity.
	CreatedBy pulumi.StringPtrInput
	// Deployment ID.
	DeploymentId pulumi.StringPtrInput
	// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
	Parallelism pulumi.IntPtrInput
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringPtrInput
	// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
	RestartEnabled pulumi.BoolPtrInput
	// Service name. Changing this property forces recreation of the resource.
	ServiceName pulumi.StringPtrInput
	// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
	StartingSavepoint pulumi.StringPtrInput
	Timeouts          FlinkApplicationDeploymentTimeoutsPtrInput
	// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
	VersionId pulumi.StringPtrInput
}

func (FlinkApplicationDeploymentState) ElementType() reflect.Type {
	return reflect.TypeOf((*flinkApplicationDeploymentState)(nil)).Elem()
}

type flinkApplicationDeploymentArgs struct {
	// Application Id. Changing this property forces recreation of the resource.
	ApplicationId string `pulumi:"applicationId"`
	// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
	Parallelism *int `pulumi:"parallelism"`
	// Project name. Changing this property forces recreation of the resource.
	Project string `pulumi:"project"`
	// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
	RestartEnabled *bool `pulumi:"restartEnabled"`
	// Service name. Changing this property forces recreation of the resource.
	ServiceName string `pulumi:"serviceName"`
	// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
	StartingSavepoint *string                             `pulumi:"startingSavepoint"`
	Timeouts          *FlinkApplicationDeploymentTimeouts `pulumi:"timeouts"`
	// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
	VersionId string `pulumi:"versionId"`
}

// The set of arguments for constructing a FlinkApplicationDeployment resource.
type FlinkApplicationDeploymentArgs struct {
	// Application Id. Changing this property forces recreation of the resource.
	ApplicationId pulumi.StringInput
	// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
	Parallelism pulumi.IntPtrInput
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringInput
	// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
	RestartEnabled pulumi.BoolPtrInput
	// Service name. Changing this property forces recreation of the resource.
	ServiceName pulumi.StringInput
	// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
	StartingSavepoint pulumi.StringPtrInput
	Timeouts          FlinkApplicationDeploymentTimeoutsPtrInput
	// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
	VersionId pulumi.StringInput
}

func (FlinkApplicationDeploymentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*flinkApplicationDeploymentArgs)(nil)).Elem()
}

type FlinkApplicationDeploymentInput interface {
	pulumi.Input

	ToFlinkApplicationDeploymentOutput() FlinkApplicationDeploymentOutput
	ToFlinkApplicationDeploymentOutputWithContext(ctx context.Context) FlinkApplicationDeploymentOutput
}

func (*FlinkApplicationDeployment) ElementType() reflect.Type {
	return reflect.TypeOf((**FlinkApplicationDeployment)(nil)).Elem()
}

func (i *FlinkApplicationDeployment) ToFlinkApplicationDeploymentOutput() FlinkApplicationDeploymentOutput {
	return i.ToFlinkApplicationDeploymentOutputWithContext(context.Background())
}

func (i *FlinkApplicationDeployment) ToFlinkApplicationDeploymentOutputWithContext(ctx context.Context) FlinkApplicationDeploymentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FlinkApplicationDeploymentOutput)
}

// FlinkApplicationDeploymentArrayInput is an input type that accepts FlinkApplicationDeploymentArray and FlinkApplicationDeploymentArrayOutput values.
// You can construct a concrete instance of `FlinkApplicationDeploymentArrayInput` via:
//
//	FlinkApplicationDeploymentArray{ FlinkApplicationDeploymentArgs{...} }
type FlinkApplicationDeploymentArrayInput interface {
	pulumi.Input

	ToFlinkApplicationDeploymentArrayOutput() FlinkApplicationDeploymentArrayOutput
	ToFlinkApplicationDeploymentArrayOutputWithContext(context.Context) FlinkApplicationDeploymentArrayOutput
}

type FlinkApplicationDeploymentArray []FlinkApplicationDeploymentInput

func (FlinkApplicationDeploymentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*FlinkApplicationDeployment)(nil)).Elem()
}

func (i FlinkApplicationDeploymentArray) ToFlinkApplicationDeploymentArrayOutput() FlinkApplicationDeploymentArrayOutput {
	return i.ToFlinkApplicationDeploymentArrayOutputWithContext(context.Background())
}

func (i FlinkApplicationDeploymentArray) ToFlinkApplicationDeploymentArrayOutputWithContext(ctx context.Context) FlinkApplicationDeploymentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FlinkApplicationDeploymentArrayOutput)
}

// FlinkApplicationDeploymentMapInput is an input type that accepts FlinkApplicationDeploymentMap and FlinkApplicationDeploymentMapOutput values.
// You can construct a concrete instance of `FlinkApplicationDeploymentMapInput` via:
//
//	FlinkApplicationDeploymentMap{ "key": FlinkApplicationDeploymentArgs{...} }
type FlinkApplicationDeploymentMapInput interface {
	pulumi.Input

	ToFlinkApplicationDeploymentMapOutput() FlinkApplicationDeploymentMapOutput
	ToFlinkApplicationDeploymentMapOutputWithContext(context.Context) FlinkApplicationDeploymentMapOutput
}

type FlinkApplicationDeploymentMap map[string]FlinkApplicationDeploymentInput

func (FlinkApplicationDeploymentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*FlinkApplicationDeployment)(nil)).Elem()
}

func (i FlinkApplicationDeploymentMap) ToFlinkApplicationDeploymentMapOutput() FlinkApplicationDeploymentMapOutput {
	return i.ToFlinkApplicationDeploymentMapOutputWithContext(context.Background())
}

func (i FlinkApplicationDeploymentMap) ToFlinkApplicationDeploymentMapOutputWithContext(ctx context.Context) FlinkApplicationDeploymentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FlinkApplicationDeploymentMapOutput)
}

type FlinkApplicationDeploymentOutput struct{ *pulumi.OutputState }

func (FlinkApplicationDeploymentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**FlinkApplicationDeployment)(nil)).Elem()
}

func (o FlinkApplicationDeploymentOutput) ToFlinkApplicationDeploymentOutput() FlinkApplicationDeploymentOutput {
	return o
}

func (o FlinkApplicationDeploymentOutput) ToFlinkApplicationDeploymentOutputWithContext(ctx context.Context) FlinkApplicationDeploymentOutput {
	return o
}

// Application Id. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) ApplicationId() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.ApplicationId }).(pulumi.StringOutput)
}

// The creation timestamp of this entity in ISO 8601 format, always in UTC.
func (o FlinkApplicationDeploymentOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The creator of this entity.
func (o FlinkApplicationDeploymentOutput) CreatedBy() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.CreatedBy }).(pulumi.StringOutput)
}

// Deployment ID.
func (o FlinkApplicationDeploymentOutput) DeploymentId() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.DeploymentId }).(pulumi.StringOutput)
}

// Reading of Flink parallel execution documentation is recommended before setting this value to other than 1. Please do not set this value higher than (total number of nodes x number*of*task_slots), or every new job created will fail. Value must be between `1` and `128`. The default value is `1`. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) Parallelism() pulumi.IntOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.IntOutput { return v.Parallelism }).(pulumi.IntOutput)
}

// Project name. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// Specifies whether a Flink Job is restarted in case it fails. The default value is `true`. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) RestartEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.BoolOutput { return v.RestartEnabled }).(pulumi.BoolOutput)
}

// Service name. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) ServiceName() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.ServiceName }).(pulumi.StringOutput)
}

// Job savepoint. Maximum length: `2048`. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) StartingSavepoint() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringPtrOutput { return v.StartingSavepoint }).(pulumi.StringPtrOutput)
}

func (o FlinkApplicationDeploymentOutput) Timeouts() FlinkApplicationDeploymentTimeoutsPtrOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) FlinkApplicationDeploymentTimeoutsPtrOutput { return v.Timeouts }).(FlinkApplicationDeploymentTimeoutsPtrOutput)
}

// ApplicationVersion ID. Maximum length: `36`. Changing this property forces recreation of the resource.
func (o FlinkApplicationDeploymentOutput) VersionId() pulumi.StringOutput {
	return o.ApplyT(func(v *FlinkApplicationDeployment) pulumi.StringOutput { return v.VersionId }).(pulumi.StringOutput)
}

type FlinkApplicationDeploymentArrayOutput struct{ *pulumi.OutputState }

func (FlinkApplicationDeploymentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*FlinkApplicationDeployment)(nil)).Elem()
}

func (o FlinkApplicationDeploymentArrayOutput) ToFlinkApplicationDeploymentArrayOutput() FlinkApplicationDeploymentArrayOutput {
	return o
}

func (o FlinkApplicationDeploymentArrayOutput) ToFlinkApplicationDeploymentArrayOutputWithContext(ctx context.Context) FlinkApplicationDeploymentArrayOutput {
	return o
}

func (o FlinkApplicationDeploymentArrayOutput) Index(i pulumi.IntInput) FlinkApplicationDeploymentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *FlinkApplicationDeployment {
		return vs[0].([]*FlinkApplicationDeployment)[vs[1].(int)]
	}).(FlinkApplicationDeploymentOutput)
}

type FlinkApplicationDeploymentMapOutput struct{ *pulumi.OutputState }

func (FlinkApplicationDeploymentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*FlinkApplicationDeployment)(nil)).Elem()
}

func (o FlinkApplicationDeploymentMapOutput) ToFlinkApplicationDeploymentMapOutput() FlinkApplicationDeploymentMapOutput {
	return o
}

func (o FlinkApplicationDeploymentMapOutput) ToFlinkApplicationDeploymentMapOutputWithContext(ctx context.Context) FlinkApplicationDeploymentMapOutput {
	return o
}

func (o FlinkApplicationDeploymentMapOutput) MapIndex(k pulumi.StringInput) FlinkApplicationDeploymentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *FlinkApplicationDeployment {
		return vs[0].(map[string]*FlinkApplicationDeployment)[vs[1].(string)]
	}).(FlinkApplicationDeploymentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*FlinkApplicationDeploymentInput)(nil)).Elem(), &FlinkApplicationDeployment{})
	pulumi.RegisterInputType(reflect.TypeOf((*FlinkApplicationDeploymentArrayInput)(nil)).Elem(), FlinkApplicationDeploymentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*FlinkApplicationDeploymentMapInput)(nil)).Elem(), FlinkApplicationDeploymentMap{})
	pulumi.RegisterOutputType(FlinkApplicationDeploymentOutput{})
	pulumi.RegisterOutputType(FlinkApplicationDeploymentArrayOutput{})
	pulumi.RegisterOutputType(FlinkApplicationDeploymentMapOutput{})
}

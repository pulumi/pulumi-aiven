// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package aiven

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-aiven/sdk/v6/go/aiven/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates and manages [customer managed keys](https://aiven.io/docs/platform/howto/bring-your-own-key) (CMKs) for encrypting service data.
//
// **This resource is in the beta stage and may change without notice.** Set
// the `PROVIDER_AIVEN_ENABLE_BETA` environment variable to use the resource.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-aiven/sdk/v6/go/aiven"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := aiven.NewCmk(ctx, "example_user", &aiven.CmkArgs{
//				Project:     pulumi.Any(aivenProjectName),
//				Resource:    pulumi.Any(cmkResource),
//				CmkProvider: pulumi.String("gcp"),
//				DefaultCmk:  pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import aiven:index/cmk:Cmk example PROJECT/CMK_ID
// ```
type Cmk struct {
	pulumi.CustomResourceState

	// Customer Managed Key identifier (CMK ID).
	CmkId pulumi.StringOutput `pulumi:"cmkId"`
	// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
	CmkProvider pulumi.StringOutput `pulumi:"cmkProvider"`
	// Created At.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// Mark the created CMK as default for all newly created services.
	DefaultCmk pulumi.BoolOutput `pulumi:"defaultCmk"`
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringOutput `pulumi:"project"`
	// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
	Resource pulumi.StringOutput `pulumi:"resource"`
	// Status. The possible values are `current`, `deleted` and `old`.
	Status   pulumi.StringOutput  `pulumi:"status"`
	Timeouts CmkTimeoutsPtrOutput `pulumi:"timeouts"`
	// Updated At.
	UpdatedAt pulumi.StringOutput `pulumi:"updatedAt"`
}

// NewCmk registers a new resource with the given unique name, arguments, and options.
func NewCmk(ctx *pulumi.Context,
	name string, args *CmkArgs, opts ...pulumi.ResourceOption) (*Cmk, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CmkProvider == nil {
		return nil, errors.New("invalid value for required argument 'CmkProvider'")
	}
	if args.DefaultCmk == nil {
		return nil, errors.New("invalid value for required argument 'DefaultCmk'")
	}
	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	if args.Resource == nil {
		return nil, errors.New("invalid value for required argument 'Resource'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Cmk
	err := ctx.RegisterResource("aiven:index/cmk:Cmk", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCmk gets an existing Cmk resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCmk(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CmkState, opts ...pulumi.ResourceOption) (*Cmk, error) {
	var resource Cmk
	err := ctx.ReadResource("aiven:index/cmk:Cmk", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Cmk resources.
type cmkState struct {
	// Customer Managed Key identifier (CMK ID).
	CmkId *string `pulumi:"cmkId"`
	// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
	CmkProvider *string `pulumi:"cmkProvider"`
	// Created At.
	CreatedAt *string `pulumi:"createdAt"`
	// Mark the created CMK as default for all newly created services.
	DefaultCmk *bool `pulumi:"defaultCmk"`
	// Project name. Changing this property forces recreation of the resource.
	Project *string `pulumi:"project"`
	// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
	Resource *string `pulumi:"resource"`
	// Status. The possible values are `current`, `deleted` and `old`.
	Status   *string      `pulumi:"status"`
	Timeouts *CmkTimeouts `pulumi:"timeouts"`
	// Updated At.
	UpdatedAt *string `pulumi:"updatedAt"`
}

type CmkState struct {
	// Customer Managed Key identifier (CMK ID).
	CmkId pulumi.StringPtrInput
	// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
	CmkProvider pulumi.StringPtrInput
	// Created At.
	CreatedAt pulumi.StringPtrInput
	// Mark the created CMK as default for all newly created services.
	DefaultCmk pulumi.BoolPtrInput
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringPtrInput
	// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
	Resource pulumi.StringPtrInput
	// Status. The possible values are `current`, `deleted` and `old`.
	Status   pulumi.StringPtrInput
	Timeouts CmkTimeoutsPtrInput
	// Updated At.
	UpdatedAt pulumi.StringPtrInput
}

func (CmkState) ElementType() reflect.Type {
	return reflect.TypeOf((*cmkState)(nil)).Elem()
}

type cmkArgs struct {
	// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
	CmkProvider string `pulumi:"cmkProvider"`
	// Mark the created CMK as default for all newly created services.
	DefaultCmk bool `pulumi:"defaultCmk"`
	// Project name. Changing this property forces recreation of the resource.
	Project string `pulumi:"project"`
	// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
	Resource string       `pulumi:"resource"`
	Timeouts *CmkTimeouts `pulumi:"timeouts"`
}

// The set of arguments for constructing a Cmk resource.
type CmkArgs struct {
	// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
	CmkProvider pulumi.StringInput
	// Mark the created CMK as default for all newly created services.
	DefaultCmk pulumi.BoolInput
	// Project name. Changing this property forces recreation of the resource.
	Project pulumi.StringInput
	// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
	Resource pulumi.StringInput
	Timeouts CmkTimeoutsPtrInput
}

func (CmkArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cmkArgs)(nil)).Elem()
}

type CmkInput interface {
	pulumi.Input

	ToCmkOutput() CmkOutput
	ToCmkOutputWithContext(ctx context.Context) CmkOutput
}

func (*Cmk) ElementType() reflect.Type {
	return reflect.TypeOf((**Cmk)(nil)).Elem()
}

func (i *Cmk) ToCmkOutput() CmkOutput {
	return i.ToCmkOutputWithContext(context.Background())
}

func (i *Cmk) ToCmkOutputWithContext(ctx context.Context) CmkOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CmkOutput)
}

// CmkArrayInput is an input type that accepts CmkArray and CmkArrayOutput values.
// You can construct a concrete instance of `CmkArrayInput` via:
//
//	CmkArray{ CmkArgs{...} }
type CmkArrayInput interface {
	pulumi.Input

	ToCmkArrayOutput() CmkArrayOutput
	ToCmkArrayOutputWithContext(context.Context) CmkArrayOutput
}

type CmkArray []CmkInput

func (CmkArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Cmk)(nil)).Elem()
}

func (i CmkArray) ToCmkArrayOutput() CmkArrayOutput {
	return i.ToCmkArrayOutputWithContext(context.Background())
}

func (i CmkArray) ToCmkArrayOutputWithContext(ctx context.Context) CmkArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CmkArrayOutput)
}

// CmkMapInput is an input type that accepts CmkMap and CmkMapOutput values.
// You can construct a concrete instance of `CmkMapInput` via:
//
//	CmkMap{ "key": CmkArgs{...} }
type CmkMapInput interface {
	pulumi.Input

	ToCmkMapOutput() CmkMapOutput
	ToCmkMapOutputWithContext(context.Context) CmkMapOutput
}

type CmkMap map[string]CmkInput

func (CmkMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Cmk)(nil)).Elem()
}

func (i CmkMap) ToCmkMapOutput() CmkMapOutput {
	return i.ToCmkMapOutputWithContext(context.Background())
}

func (i CmkMap) ToCmkMapOutputWithContext(ctx context.Context) CmkMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CmkMapOutput)
}

type CmkOutput struct{ *pulumi.OutputState }

func (CmkOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Cmk)(nil)).Elem()
}

func (o CmkOutput) ToCmkOutput() CmkOutput {
	return o
}

func (o CmkOutput) ToCmkOutputWithContext(ctx context.Context) CmkOutput {
	return o
}

// Customer Managed Key identifier (CMK ID).
func (o CmkOutput) CmkId() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.CmkId }).(pulumi.StringOutput)
}

// CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
func (o CmkOutput) CmkProvider() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.CmkProvider }).(pulumi.StringOutput)
}

// Created At.
func (o CmkOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// Mark the created CMK as default for all newly created services.
func (o CmkOutput) DefaultCmk() pulumi.BoolOutput {
	return o.ApplyT(func(v *Cmk) pulumi.BoolOutput { return v.DefaultCmk }).(pulumi.BoolOutput)
}

// Project name. Changing this property forces recreation of the resource.
func (o CmkOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.
func (o CmkOutput) Resource() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.Resource }).(pulumi.StringOutput)
}

// Status. The possible values are `current`, `deleted` and `old`.
func (o CmkOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

func (o CmkOutput) Timeouts() CmkTimeoutsPtrOutput {
	return o.ApplyT(func(v *Cmk) CmkTimeoutsPtrOutput { return v.Timeouts }).(CmkTimeoutsPtrOutput)
}

// Updated At.
func (o CmkOutput) UpdatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *Cmk) pulumi.StringOutput { return v.UpdatedAt }).(pulumi.StringOutput)
}

type CmkArrayOutput struct{ *pulumi.OutputState }

func (CmkArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Cmk)(nil)).Elem()
}

func (o CmkArrayOutput) ToCmkArrayOutput() CmkArrayOutput {
	return o
}

func (o CmkArrayOutput) ToCmkArrayOutputWithContext(ctx context.Context) CmkArrayOutput {
	return o
}

func (o CmkArrayOutput) Index(i pulumi.IntInput) CmkOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Cmk {
		return vs[0].([]*Cmk)[vs[1].(int)]
	}).(CmkOutput)
}

type CmkMapOutput struct{ *pulumi.OutputState }

func (CmkMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Cmk)(nil)).Elem()
}

func (o CmkMapOutput) ToCmkMapOutput() CmkMapOutput {
	return o
}

func (o CmkMapOutput) ToCmkMapOutputWithContext(ctx context.Context) CmkMapOutput {
	return o
}

func (o CmkMapOutput) MapIndex(k pulumi.StringInput) CmkOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Cmk {
		return vs[0].(map[string]*Cmk)[vs[1].(string)]
	}).(CmkOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CmkInput)(nil)).Elem(), &Cmk{})
	pulumi.RegisterInputType(reflect.TypeOf((*CmkArrayInput)(nil)).Elem(), CmkArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CmkMapInput)(nil)).Elem(), CmkMap{})
	pulumi.RegisterOutputType(CmkOutput{})
	pulumi.RegisterOutputType(CmkArrayOutput{})
	pulumi.RegisterOutputType(CmkMapOutput{})
}
